(this["webpackJsonpcandy-crush"]=this["webpackJsonpcandy-crush"]||[]).push([[0],{20:function(n,e,t){},26:function(n,e,t){"use strict";t.r(e);var r,a,o,c,i,l=t(12),u=t.n(l),s=(t(20),t(5)),d=t(0),f=t(2),b=t.n(f),j=function(n){return n[0].map((function(e,t){return n.map((function(n){return n[t]}))}))},p=function(n,e){for(var t=function(n){return Array(n).fill(null).map((function(){return Array(n).fill(0).map((function(){return b.a.sample(e)}))}))},r=t(n);!b.a.isEqual(r,h(r));)r=t(n);return r},m=function(n,e){for(var t=b.a.cloneDeep(n),r=t.length,a=[],o=0;o<r;o++){for(var c=t[o],i=[c[0]],l=1;l<r+1;l++)if(c[l]===i[0])i.push(c[l]);else{if(i.length>=3){for(var u=1;u<=i.length;u++)c[l-u]=0;e&&e(i[0],i.length)}i=[c[l]]}a.push(c)}return a},v=function(n){for(var e=b.a.cloneDeep(n),t=1;t<n.length;t++)for(var r=0;r<n[t].length;r++)0===e[t][r]&&(e[t][r]=e[t-1][r],e[t-1][r]=0);return e},h=function(n,e){var t=b.a.cloneDeep(n);return t=m(t,e),t=j(m(j(t),e))},y=function(n,e,t){var r=b.a.cloneDeep(n),a=e.x,o=e.y,c=[r[o][a+t],r[o][a]];return r[o][a]=c[0],r[o][a+t]=c[1],r},x={hotizontal:function(n,e,t){return y(n,e,t)},vertical:function(n,e,t){return j(y(j(n),{y:(r=e).x,x:r.y},t));var r}},O=t(6),g=t(7),C=g.a.div(r||(r=Object(O.a)(["\n    width: 600px;\n    height: 600px;\n    display: grid;\n    grid-template: repeat(",", 1fr) /  repeat(",", 1fr);\n    background-color: aliceblue;\n    position: relative;\n    \n"])),(function(n){return n.size}),(function(n){return n.size})),z=t(1),w=function(n){var e=n.primaryColor,t=(n.secondaryColor,n.size);return Object(z.jsx)("svg",{id:"Capa_1",enableBackground:"new 0 0 512.018 512.018",height:t||"50",viewBox:"0 0 512.018 512.018",width:t||"50",xmlns:"http://www.w3.org/2000/svg",children:Object(z.jsxs)("g",{children:[Object(z.jsx)("path",{d:"m5.186 340.827c-4.919 4.258-6.532 11.202-3.994 17.193s8.653 9.676 15.13 9.089c16.049-1.417 25.967 2.008 36.596 12.636 14.294 14.294 21.651 29.8 20.184 42.54-1.105 9.59 7.027 17.725 16.617 16.617 12.603-1.454 28.012 5.896 42.274 20.158 10.691 10.692 12.506 23.097 12.847 38.277.295 13.143 16.266 19.607 25.603 10.27 47.469-47.468 52.936-124.424 5.657-171.703-45.531-45.534-122.987-36.566-170.914 4.923z",fill:"#74dce2"}),Object(z.jsx)("path",{d:"m176.1 335.905-98.703 98.703c3.237 3.236 7.774 4.82 12.322 4.294 12.603-1.454 28.012 5.896 42.274 20.158 10.691 10.692 12.506 23.097 12.847 38.277.296 13.183 16.322 19.552 25.603 10.27 47.469-47.468 52.936-124.422 5.657-171.702z",fill:"#3ac7cf"}),Object(z.jsx)("path",{d:"m497.339 144.838c-15.152-.34-27.529-1.997-38.327-12.795-14.237-14.236-21.565-29.664-20.107-42.326 1.108-9.62-7.058-17.727-16.617-16.617-12.804 1.464-28.324-5.865-42.592-20.133-10.597-10.597-14.007-20.529-12.584-36.646.572-6.48-3.099-12.592-9.09-15.131-5.991-2.538-12.935-.926-17.193 3.994-41.494 47.934-50.466 125.372-4.922 170.914 47.275 47.276 124.228 41.818 171.703-5.657 9.304-9.305 2.919-25.309-10.271-25.603z",fill:"#74dce2"}),Object(z.jsx)("path",{d:"m507.61 170.44c9.304-9.304 2.919-25.309-10.271-25.603-15.152-.34-27.529-1.997-38.327-12.795-14.237-14.236-21.565-29.664-20.107-42.326.524-4.548-1.057-9.084-4.294-12.322l-98.703 98.704c46.988 46.99 123.911 42.133 171.702-5.658z",fill:"#3ac7cf"}),Object(z.jsx)("path",{d:"m370.893 293.111-21.21 21.21 23.49 23.5c-9.187 13.4-21.194 25.634-35.35 35.36l-23.5-23.5-21.21 21.21 17.04 17.04c-16.84 6.68-35.15 10.17-54.15 10.17-80.131 0-142.1-61.85-142.1-142.1 0-19 3.49-37.31 10.17-54.15l18.58 18.58c9.77-3.86 19.04-8.8 27.67-14.75l-31.5-31.5c9.237-13.446 21.25-25.676 35.36-35.35l25.32 25.32c5.96-8.61 10.89-17.88 14.76-27.65l-12.42-12.43c16.85-6.67 35.16-10.17 54.16-10.17 80.131 0 142.1 61.85 142.1 142.1 0 19-3.5 37.31-10.17 54.16z",fill:e}),Object(z.jsx)("path",{d:"m370.893 293.111-21.21 21.21 23.49 23.5c-9.187 13.4-21.194 25.634-35.35 35.36l-23.5-23.5-21.21 21.21 17.04 17.04c-50.505 20.033-113.396 11.048-155.27-30.81l202.24-202.24c41.71 41.726 50.879 104.581 30.81 155.28z",fill:e}),Object(z.jsx)("path",{d:"m337.823 373.181c-8.63 5.95-17.9 10.89-27.67 14.75l-186.08-186.08c3.86-9.77 8.8-19.04 14.75-27.67z",fill:"#fef77d"}),Object(z.jsx)("path",{d:"m310.153 387.931c9.77-3.86 19.04-8.8 27.67-14.75l-99.5-99.5-21.21 21.21z",fill:"#f4de48"}),Object(z.jsx)("path",{d:"m387.933 310.161c-3.87 9.77-8.8 19.04-14.76 27.66l-198.99-198.99c8.62-5.96 17.89-10.89 27.66-14.76z",fill:"#fef77d"}),Object(z.jsx)("path",{d:"m373.173 337.821c5.96-8.62 10.89-17.89 14.76-27.66l-93.045-93.045-21.21 21.21z",fill:"#f4de48"})]})})},A=[{tileId:0,primaryColor:"#FE0000",secondaryColor:"#3AC7CF"},{tileId:1,primaryColor:"#FFEB00",secondaryColor:"#3AC7CF"},{tileId:2,primaryColor:"#00A8FF",secondaryColor:"#3AC7CF"},{tileId:3,primaryColor:"#AE00FF",secondaryColor:"#3AC7CF"},{tileId:4,primaryColor:"#FE6A00",secondaryColor:"#3AC7CF"},{tileId:5,primaryColor:"#00A800",secondaryColor:"#3AC7CF"},{tileId:6,primaryColor:"#FE0000",secondaryColor:"#3AC7CF"}],E=g.a.div(a||(a=Object(O.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    font-size: 2rem;\n    border: 1px solid brown;\n    background-color: #ddd;\n    padding: 5px;\n    cursor: ",";\n"])),(function(n){return n.playable?"grab":"default"})),F=function(n){var e=n.dragStart,t=n.dragOver,r=n.dragEnd,a=n.tile,o=n.id,c=n.isPlayable,i=A[a],l=i.primaryColor;i.secondaryColor;return Object(z.jsx)(E,{draggable:!0,onDragStart:e,onDragOver:t,onDragEnd:r,id:o,playable:c,children:a?Object(z.jsx)(w,{primaryColor:l,secondaryColor:"#74dce2"}):""})},I=function(n){var e=n.move,t=n.subsTilesToGo,r=n.isPlayable,a=n.setIsPlayable,o=n.board,c=n.setBoard,i=n.numbers,l=Object(d.useState)(null),u=Object(s.a)(l,2),f=u[0],j=u[1];Object(d.useEffect)((function(){var n=setTimeout((function(){if(function(n){return n.some((function(n){return n.some((function(n){return 0===n}))}))}(o))return c((function(n){return function(n,e){var t=b.a.cloneDeep(n);return t[0]=t[0].map((function(n){return 0===n?b.a.sample(e):n})),t}(v(n),i)})),a(!0),function(){return clearInterval(n)};if(r||b.a.isEqual(o,h(o)))c(v);else{var e=h(o,t);c(e)}}),300);return b.a.isEqual(o,v(o))&&b.a.isEqual(o,h(o))||a(!1),function(){return clearInterval(n)}}),[o,r]);var p=function(n){r&&j({x:n.screenX,y:n.screenY})},m=function(n){n.preventDefault(),n.dataTransfer.effectAllowed="copyMove"},y=function(n,t){if(r&&f){var i=function(n,e){var t=Math.abs(n)>Math.abs(e);return Math.abs(n)<20&&Math.abs(e)<20?null:{x:0+(t?n>0?1:-1:0),y:0+(t?0:e>0?1:-1)}}(n.screenX-f.x,n.screenY-f.y);if(i){var l=function(n,e){return{x:n.x+e.x,y:n.y+e.y}}(t,i);if(u=l,s=o.length,Object.values(u).every((function(n){return n>=0&&n<=s-1}))){var u,s,d=b.a.cloneDeep(o),p=function(n,e,t){var r=0!==t.x,a=r?t.x:t.y;return x[r?"hotizontal":"vertical"](n,e,a)}(o,t,i);c(p),b.a.isEqual(p,h(p))?(a(!1),setTimeout((function(){c(d),a(!0)}),600)):e(),j(null)}}}};return Object(z.jsxs)("div",{children:[r?"Make a move":"Combo",Object(z.jsx)(C,{size:o.length,children:o.map((function(n,e){return n.map((function(n,t){return Object(z.jsx)(F,{id:"".concat(e).concat(t),dragStart:p,dragOver:m,dragEnd:function(n){return y(n,{y:e,x:t})},tile:n,isPlayable:r},"".concat(e).concat(t))}))}))})]})},S=g.a.div(o||(o=Object(O.a)(["\n    width: 100%;\n    display: flex;\n    color: #fe4010;\n    justify-content: space-between;\n\n    p {\n        margin: 0;\n        font-size: 1.4rem;\n        text-transform: uppercase;\n        font-family: 'Annie Use Your Telescope', cursive !important;\n        color: aquamarine;\n\n        svg {\n            transform: translateY(2px) ;\n            margin-right: 5px;\n        }\n    }\n"]))),T=function(n){return n.toString().padStart(2,"0")},k=function(n){if((n=Number(n))<0)return"00:00";var e=Math.floor(n/60),t=n%60;return"".concat(T(e),":").concat(T(t))},D=function(n){var e=n.moves,t=n.tilesToGo,r=n.tileToSearch,a=Object(d.useState)(0),o=Object(s.a)(a,2),i=o[0],l=o[1];return Object(d.useEffect)((function(){return c=setInterval((function(){l((function(n){return Number(n)+1}))}),1e3),function(){return clearInterval(c)}}),[]),Object(z.jsxs)(S,{children:[Object(z.jsxs)("p",{children:["moves: ",e]}),Object(z.jsxs)("p",{children:["time: ",k(i)]}),(null===r||void 0===r?void 0:r.primaryColor)&&Object(z.jsxs)("p",{children:["to go:"," ",Object(z.jsx)(w,{primaryColor:r.primaryColor,secondaryColor:"black",size:"20"}),"x ",t]})]})},M=t(28),G=Object(g.a)(M.a.div)(i||(i=Object(O.a)(["\n    position: fixed;\n    overflow: hidden;\n    \n       top: 0;\n        left: 0;\n        width: 100%;\n    height: 100%;\n    z-index: 5;\n    background-color: rgba(0,0,0, .4);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    div {\n        display: flex;\n        flex-direction: column;\n        background-color: rgba(244,244,244, 0.6);\n        width: 30%;\n        height: 30%;\n        justify-content: center;\n        align-items: center;\n        border-radius: .5rem;\n\n        button {\n            cursor: pointer;\n        }\n    }\n"]))),P=function(n){var e=n.isWin,t=n.newGame;return Object(z.jsx)(G,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1,duration:.5},children:Object(z.jsxs)("div",{children:[Object(z.jsxs)("h2",{children:[" ",e?"Congratulations!":"Game Over"," "]}),Object(z.jsx)("button",{onClick:t,children:e?"Play Again":"Try Again"})]})})},q=[1,2,3,4,5],B=function(){var n=p(10,q),e=Object(d.useState)(n),t=Object(s.a)(e,2),r=t[0],a=t[1],o=Object(d.useState)(!0),c=Object(s.a)(o,2),i=c[0],l=c[1],u=Object(d.useState)(15),f=Object(s.a)(u,2),j=f[0],m=f[1],v=Object(d.useState)(35),h=Object(s.a)(v,2),y=h[0],x=h[1],O=Object(d.useState)(null),g=Object(s.a)(O,2),C=g[0],w=g[1];Object(d.useEffect)((function(){var n=b.a.random(1,5);w(A[n])}),[]);var E=Object(d.useCallback)((function(){return m((function(n){return n-1}))}),[]),F=i&&(0===j||0===y);return Object(z.jsxs)("div",{children:[Object(z.jsx)("h1",{style:{textAlign:"center",fontSize:"3rem",margin:"0",color:"pink"},children:"Candy Crush Clone"}),Object(z.jsx)(D,{moves:j,tilesToGo:y,tileToSearch:C}),(null===C||void 0===C?void 0:C.tileId)?Object(z.jsx)(I,{move:E,subsTilesToGo:function(n,e){n===(null===C||void 0===C?void 0:C.tileId)&&x((function(n){return Math.max(n-e,0)}))},isPlayable:i,setIsPlayable:l,board:r,setBoard:a,numbers:q}):"loading",F&&Object(z.jsx)(P,{isWin:0===y,newGame:function(){m(15),x(35);var n=b.a.random(1,5);w(A[n]),a(p(10,q))}})]})};u.a.render(Object(z.jsx)(B,{}),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.0b8ab8e3.chunk.js.map